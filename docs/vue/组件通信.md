 <div id='app'></div>
    <script>
        Vue.component('but', {
            data() {
                return {

                }
            },
            template: '<button :class="type"><slot>确定</slot></button>',
            props: ['type']
        })
        Vue.component('Parent', {
            data() {
                return {
                    msg: '父级组件12321323123'
                }
            },
            template: '<div><p>{{msg}}</p><but class="error"></but><but class="success">取消</but><Child :childData="msg" @childHandler="childHandlers"/></div>',
            methods: {
                childHandlers(e) {
                    this.msg = e
                }
            },
        })
        Vue.component('Child', {
            data() {
                return {
                    myType: ''
                }
            },

            template: '<div><p>{{testVal}}子级组件</p><but class="success"></but><but class="error">取消</but><input ref="_input" type="text" v-model="testVal" @input="changeValue(testVal)"/></div>',
            props: ['childData'],
            created() {
                console.log(this.childData)
                this.myType = this.childData
            },
            methods: {
                changeValue(e) {
                    e = this.$refs._input.value
                    this.$emit('childHandler', e)
                }
            },
            computed: {
                testVal: {
                    get() {
                        return this.childData
                    },
                    set() {

                    }
                }
            },
        })
        var App = {
            template: '<div><Parent></Parent></div>',
        }
        new Vue({
            el: "#app",
            data() {
                return {}
            },
            methods: {},
            components: {
                App
            },
            template: '<App/>'
        })
    </script>
